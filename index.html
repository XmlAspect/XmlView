<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>XmlView - XmlAspect.org</title>
    <style>
        iframe{float:right; width:30%; height:10em;}
        fieldset {display: inline-block;vertical-align: top;border-radius: 1em;border-bottom: none;border-left: none;}
        input,iframe{width:100%;}
        #BookmarkletTag{ font-size:large; border: 1px solid blue; border-radius: 4px; margin:4px;padding 4px;}
    </style>
    <script type="text/javascript">
        function BookmarkletBody(d,s,h)
        {
            d = document;
            h = d.getElementsByTagName('head')[0] || d.getElementsByTagName('div')[0] || document.documentElement;
            s = d.createElementNS ? d.createElementNS(h.namespaceURI || 'http://www.w3.org/1999/xhtml', 'script') : d.createElement('script');
            s.setAttribute('src', 'http://xmlaspect.org/XmlView/RunXslt.js');

            h.appendChild(s);           
        }
        function InitBookmarks()
        {
            var s = "" + BookmarkletBody;
            s = s.replace(/\s+/g, '').replace("BookmarkletBody", '');
            document.getElementById("BookmarkletTag").href = "javascript:(" + s + ")()";
        }
        function OnLoad()
        {
            $("XmlUrl").addEventListener("input",UpdateXml);
            InitBookmarks();
            UpdateXml();
        }
        function UpdateXml()
        {
            $("demoFrame").src= $("XmlUrl").value;
            InitBookmarks();
        }
        function $(id)
        {   var r = document.getElementById(id); 
            if( !r.addEventListener )
                r.addEventListener = x_addEventListener;
            return r;
        }
        function x_addEventListener ( ev, callback ){ return this.attachEvent( 'on'+ev,callback ) }

    </script>
</head>
<body onload="OnLoad();">
    <h1>XmlView - XmlAspect.org</h1>
    <main>
        <fieldset>
            <legend>Intro</legend>
            TODO: Agenda

        </fieldset>
        <fieldset>
            <legend>Bookmarklets</legend>
            1. Sample XML URL:
            <input type="text" placeholder="XML url" title="XML Url" value="countries.xml" id="XmlUrl"/>
			<ol>
				<li>drag this link onto toolbar : <a id="BookmarkletTag" href="#">XmlView</a></li>
				<li>open <a href="countries.xml">countries.xml</a> or your XML in browser</li>
				<li>Click on bookmarklet to run <a href="RunXslt.js">RunXslt.js</a> which should re-render XML as table</li>
			</ol>
        </fieldset>
        <fieldset>
            <legend>XSLT</legend>
            <a href="AsTable.xsl">AsTable.xsl</a> used by samples 
			<a href="AsTable.xml">AsTable.xml</a> for values in attributes and 
			<a href="wikipediaSearch.xml">wikipediaSearch.xml</a> for values in tag text <br />
            TODO: AsBarChart, AsPieChart
        </fieldset>
        <fieldset>
            <legend>Links</legend>
            <ul>
                <li><a href="https://github.com/XmlAspect/XmlView">Sources</a></li>
                <li>Wish list, Live docs and discussion at <a href="http://apifusion.com/wiki/index.php?title=XmlAspect.org/XmlView">ApiFusion.org</a></li>
                <li><a href="countries.xml">countries.xml</a> country list assembled from <a href="https://github.com/umpirsky/country-list/blob/master/country/cldr/en/country.xml">umpirsky/country-list</a>,
					<br />
					<a href="wikipediaSearch.xml">wikipediaSearch.xml</a> originated from <a href="http://api.geonames.org">api.geonames.org</a>
				</li>
                <li><hr /></li>
                <li>TODO: CDN list</li>
            </ul>
        </fieldset>
        <fieldset>
            <legend>TODO</legend>
            <ul>
                <li>Donate link</li>
                <li>Contact link</li>
                <li>Table styles editor links and instructions. <a href="http://www.csstablegenerator.com/">CssTableGenerator</a></li>
            </ul>

        </fieldset>
    </main>
    XML from Url:
    <iframe id="demoFrame" >xml will be shown here
        TODO: use OBJECT instead of IFRAME: http://stackoverflow.com/questions/7315218/chrome-and-firefox-are-not-displaying-most-pdf-documents-in-an-iframe
    </iframe>
	<hr />
	<pre style="text-align: right">©2014 Simulation Works, LLC | licensed under <a href="LICENSE">Apache 2.0</a></pre></body>
</html>
